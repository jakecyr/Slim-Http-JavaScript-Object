"use strict";function Http(){var i=this;this.callback=function(t){console.log(1,t)},this.then=function(t){i.callback=t},this.get=function(t,e){if(!t)throw new Error("URL is required to make a GET request");return e&&(this.callback=e),this.request("GET",t,e)},this.post=function(t,e,r){if(!t)throw new Error("URL is required to make a POST request");if(r&&(this.callback=r),e){var s=!0;for(var a in e)t+=(s?"?":"&")+a+"="+e[a],s=!1}return this.request("POST",t,r)},this.request=function(t,e,r){if("GET"!==t&&"POST"!==t)throw new Error("Only GET and POST requests are allowed");if(!e)throw new Error("URL is required to make a "+t+" request");var s=i,a=new XMLHttpRequest;return a.open(t,e),a.send(),a.onreadystatechange=function(){4==this.readyState&&200==this.status&&s.callback&&s.callback({data:a.responseText,code:this.status})},i}}

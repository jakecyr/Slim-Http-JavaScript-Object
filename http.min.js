function Http(){this.complete=function(){},this.error=function(){},this.then=function(t){return this.complete=t,this},this.catch=function(t){return this.error=t,this},this.get=function(t){if(!t)throw new Error("URL is required to make a GET request");return this.request("GET",t)},this.post=function(t,e){if(!t)throw new Error("URL is required to make a POST request");if(e){var r=!0;for(var s in e)t+=(r?"?":"&")+s+"="+e[s],r=!1}return this.request("POST",t)},this.request=function(t,e){if("GET"!==t&&"POST"!==t)throw new Error("Only GET and POST requests are allowed");if(!e)throw new Error("URL is required to make a "+t+" request");var r=this,s=new XMLHttpRequest;return s.onreadystatechange=function(){200==this.status?r.complete({data:s.responseText,code:this.status}):r.error(s.responseText)},s.open(t,e,!0),s.send(),this}}
